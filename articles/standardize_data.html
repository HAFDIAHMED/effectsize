<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Standardization • effectsize</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data Standardization">
<meta property="og:description" content="effectsize">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">effectsize</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Features</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Standardization
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/standardize_data.html">Data standardization</a>
    </li>
    <li>
      <a href="../articles/standardize_parameters.html">Parameters standardization</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Effect sizes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/logistic.html">Effect Sizes for Logistic Models</a>
    </li>
    <li>
      <a href="../articles/convert.html">Effect size conversion</a>
    </li>
    <li>
      <a href="../articles/from_test_statistics.html">Effect Size from Test Statistics</a>
    </li>
    <li>
      <a href="../articles/interpret.html">Interpretation Guidelines</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/easystats/effectsize/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Data Standardization</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/easystats/effectsize/blob/master/vignettes/standardize_data.Rmd"><code>vignettes/standardize_data.Rmd</code></a></small>
      <div class="hidden name"><code>standardize_data.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>To make sense of their data and effects, scientists might want to standardize (Z-score) their variables. They become unitless, expressed only in terms of deviation from an index of centrality (e.g., the mean or the median). However, aside from some benefits, standardization also comes with challenges and issues, that the scientist should be aware of.</p>
<div id="normal-vs--robust" class="section level2">
<h2 class="hasAnchor">
<a href="#normal-vs--robust" class="anchor"></a>Normal <em>vs.</em> Robust</h2>
<p>The <code>effectsize</code> package offers two methods of standardization.</p>
<p><strong>[TO DO]</strong></p>
</div>
<div id="variable-wise-vs--participant-wise" class="section level2">
<h2 class="hasAnchor">
<a href="#variable-wise-vs--participant-wise" class="anchor"></a>Variable-wise <em>vs.</em> Participant-wise</h2>
<p>Standardization is an important step and extra caution is required in <strong>repeated-measures designs</strong>, in which there are three ways of standardizing data:</p>
<ul>
<li>
<strong>Variable-wise</strong>: The most common method. A simple scaling of each column.</li>
<li>
<strong>Participant-wise</strong>: Variables are standardized “within” each participant, <em>i.e.</em>, for each participant, by the participant’s mean and SD.</li>
<li>
<strong>Full</strong>: Participant-wise first and then re-standardizing variable-wise.</li>
</ul>
<p>Unfortunately, the method used is often not explicitly stated. This is an issue as these methods can generate important discrepancies (that can in turn contribute to the reproducibility crisis). Let’s investigate these 3 methods.</p>
</div>
</div>
<div id="the-data" class="section level1">
<h1 class="hasAnchor">
<a href="#the-data" class="anchor"></a>The data</h1>
<p>We will take the <code>emotion</code> dataset in which participants were exposed to negative pictures and had to rate their emotions (<strong>valence</strong>) and the amount of memories associated with the picture (<strong>autobiographical link</strong>). One could make the hypothesis that for young participants with no context of war or violence, the most negative pictures (mutilations) are less related to memories than less negative pictures (involving for example car crashes or sick people). In other words, <strong>we expect a positive relationship between valence</strong> (with high values corresponding to less negativity) <strong>and autobiographical link</strong>.</p>
<p>Let’s have a look at the data, averaged by participants:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)

<span class="co"># Download the 'emotion' dataset</span>
<span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/connections.html">url</a></span>(<span class="st">"https://raw.github.com/neuropsychology/psycho.R/master/data/emotion.rda"</span>))

<span class="co"># Discard neutral pictures (keep only negative)</span>
<span class="no">df</span> <span class="kw">&lt;-</span> <span class="no">emotion</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">Emotion_Condition</span> <span class="kw">==</span> <span class="st">"Negative"</span>)

<span class="co"># Summary</span>
<span class="no">df</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">Participant_ID</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="kw">n_Trials</span> <span class="kw">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span>(),
            <span class="kw">Valence_Mean</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">Subjective_Valence</span>, <span class="kw">na.rm</span><span class="kw">=</span><span class="fl">TRUE</span>),
            <span class="kw">Valence_SD</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span>(<span class="no">Subjective_Valence</span>, <span class="kw">na.rm</span><span class="kw">=</span><span class="fl">TRUE</span>),
            <span class="kw">Autobiographical_Link_Mean</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">Autobiographical_Link</span>, <span class="kw">na.rm</span><span class="kw">=</span><span class="fl">TRUE</span>),
            <span class="kw">Autobiographical_Link_SD</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span>(<span class="no">Autobiographical_Link</span>, <span class="kw">na.rm</span><span class="kw">=</span><span class="fl">TRUE</span>))</pre></body></html></div>
<p>As we can see from the means and SDs, there is a lot of variability <strong>between and within</strong> participants (between their means and their individual SD).</p>
</div>
<div id="standardize" class="section level1">
<h1 class="hasAnchor">
<a href="#standardize" class="anchor"></a>Standardize</h1>
<p>We will create three dataframes standardized with each of the three techniques.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">effectsize</span>)

<span class="no">Z_VariableWise</span> <span class="kw">&lt;-</span> <span class="no">df</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/standardize.html">standardize</a></span>()

<span class="no">Z_ParticipantWise</span> <span class="kw">&lt;-</span> <span class="no">df</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">Participant_ID</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/standardize.html">standardize</a></span>()

<span class="no">Z_Full</span> <span class="kw">&lt;-</span> <span class="no">df</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">Participant_ID</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/standardize.html">standardize</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/standardize.html">standardize</a></span>()</pre></body></html></div>
</div>
<div id="effect-of-standardization" class="section level1">
<h1 class="hasAnchor">
<a href="#effect-of-standardization" class="anchor"></a>Effect of Standardization</h1>
<p>Let’s see how these three standardization techniques affected the <strong>Valence</strong> variable.</p>
<div id="at-a-general-level" class="section level2">
<h2 class="hasAnchor">
<a href="#at-a-general-level" class="anchor"></a>At a general level</h2>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="co"># Create a convenient function to print</span>
<span class="no">print_summary</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">data</span>){
  <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(
    <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/deparse.html">deparse</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/substitute.html">substitute</a></span>(<span class="no">data</span>)), <span class="st">": "</span>),
    <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">data</span><span class="kw">[[</span><span class="st">"Subjective_Valence"</span>]]), <span class="fl">3</span>),
          <span class="st">"+-"</span>,
          <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span>(<span class="no">data</span><span class="kw">[[</span><span class="st">"Subjective_Valence"</span>]]), <span class="fl">3</span>)),
    <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">" ["</span>,
           <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span>(<span class="no">data</span><span class="kw">[[</span><span class="st">"Subjective_Valence"</span>]]), <span class="fl">3</span>),
           <span class="st">","</span>,
           <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="no">data</span><span class="kw">[[</span><span class="st">"Subjective_Valence"</span>]]), <span class="fl">3</span>),
           <span class="st">"]"</span>)
    )
}

<span class="co"># Check the results</span>
<span class="fu">print_summary</span>(<span class="no">Z_VariableWise</span>)</pre></body></html></div>
<pre><code>[1] "Z_VariableWise: 0 +- 1 [-1.178,3.101]"</code></pre>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu">print_summary</span>(<span class="no">Z_ParticipantWise</span>)</pre></body></html></div>
<pre><code>[1] "Z_ParticipantWise: 0 +- 0.98 [-2.933,3.293]"</code></pre>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu">print_summary</span>(<span class="no">Z_Full</span>)</pre></body></html></div>
<pre><code>[1] "Z_Full: 0 +- 1 [-2.992,3.36]"</code></pre>
<p>The <strong>means</strong> and the <strong>SD</strong> appear as fairly similar (0 and 1)…</p>
</div>
<div id="distribution" class="section level2">
<h2 class="hasAnchor">
<a href="#distribution" class="anchor"></a>Distribution</h2>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">bayestestR</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">see</span>)

<span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">VarWise</span> <span class="kw">=</span> <span class="no">Z_VariableWise</span>$<span class="no">Subjective_Valence</span>,
           <span class="kw">ParWise</span> <span class="kw">=</span> <span class="no">Z_ParticipantWise</span>$<span class="no">Subjective_Valence</span>,
           <span class="kw">Full</span> <span class="kw">=</span> <span class="no">Z_Full</span>$<span class="no">Subjective_Valence</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/bayestestR/man/estimate_density.html">estimate_density</a></span>(<span class="kw">method</span><span class="kw">=</span><span class="st">"kernSmooth"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/plot.html">plot</a></span>() +
  <span class="kw pkg">see</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/see/man/theme_modern.html">theme_modern</a></span>()</pre></body></html></div>
<p><img src="standardize_data_files/figure-html/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;"></p>
<p>and the distributions appear to be similar…</p>
</div>
<div id="at-a-participant-level" class="section level2">
<h2 class="hasAnchor">
<a href="#at-a-participant-level" class="anchor"></a>At a participant level</h2>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="co"># Create convenient function</span>
<span class="no">print_participants</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">data</span>){
  <span class="no">data</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">Participant_ID</span>) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="kw">Mean</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">Subjective_Valence</span>),
              <span class="kw">SD</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span>(<span class="no">Subjective_Valence</span>)) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html">mutate_if</a></span>(<span class="no">is.numeric</span>, <span class="no">round</span>, <span class="fl">2</span>) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="fl">5</span>)

}

<span class="co"># Check the results</span>
<span class="fu">print_participants</span>(<span class="no">Z_VariableWise</span>)</pre></body></html></div>
<pre><code># A tibble: 5 x 3
  Participant_ID  Mean    SD
  &lt;fct&gt;          &lt;dbl&gt; &lt;dbl&gt;
1 10S            -0.05  1.15
2 11S            -0.46  1   
3 12S            -0.03  0.72
4 13S            -0.19  0.64
5 14S            -0.01  0.71</code></pre>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu">print_participants</span>(<span class="no">Z_ParticipantWise</span>)</pre></body></html></div>
<pre><code># A tibble: 5 x 3
  Participant_ID  Mean    SD
  &lt;fct&gt;          &lt;dbl&gt; &lt;dbl&gt;
1 10S                0     1
2 11S                0     1
3 12S                0     1
4 13S                0     1
5 14S                0     1</code></pre>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="fu">print_participants</span>(<span class="no">Z_Full</span>)</pre></body></html></div>
<pre><code># A tibble: 5 x 3
  Participant_ID  Mean    SD
  &lt;fct&gt;          &lt;dbl&gt; &lt;dbl&gt;
1 10S                0  1.02
2 11S                0  1.02
3 12S                0  1.02
4 13S                0  1.02
5 14S                0  1.02</code></pre>
<p>Ok so there are some differences here….</p>
</div>
</div>
<div id="correlation" class="section level1">
<h1 class="hasAnchor">
<a href="#correlation" class="anchor"></a>Correlation</h1>
<p>Let’s do a <strong>correlation</strong> between the <strong>variable-wise and participant-wise methods</strong>.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)

<span class="fu"><a href="https://rdrr.io/r/stats/cor.test.html">cor.test</a></span>(<span class="no">Z_VariableWise</span>$<span class="no">Subjective_Valence</span>, <span class="no">Z_ParticipantWise</span>$<span class="no">Subjective_Valence</span>)</pre></body></html></div>
<pre><code>
    Pearson's product-moment correlation

data:  Z_VariableWise$Subjective_Valence and Z_ParticipantWise$Subjective_Valence
t = 35, df = 454, p-value &lt;2e-16
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.82 0.87
sample estimates:
 cor 
0.85 </code></pre>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">Original</span> <span class="kw">=</span> <span class="no">df</span>$<span class="no">Subjective_Valence</span>,
           <span class="kw">VariableWise</span> <span class="kw">=</span> <span class="no">Z_VariableWise</span>$<span class="no">Subjective_Valence</span>,
           <span class="kw">ParticipantWise</span> <span class="kw">=</span> <span class="no">Z_ParticipantWise</span>$<span class="no">Subjective_Valence</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span><span class="kw">=</span><span class="no">VariableWise</span>, <span class="kw">y</span><span class="kw">=</span><span class="no">ParticipantWise</span>, <span class="kw">colour</span><span class="kw">=</span><span class="no">Original</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span>(<span class="kw">method</span><span class="kw">=</span><span class="st">"lm"</span>) +
  <span class="kw pkg">see</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/see/man/theme_modern.html">theme_modern</a></span>()</pre></body></html></div>
<p><img src="standardize_data_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;"></p>
<p>While the three standardization methods roughly present the same characteristics at a general level (mean 0 and SD 1) and a similar distribution, their values are not exactly the same!</p>
</div>
<div id="test" class="section level1">
<h1 class="hasAnchor">
<a href="#test" class="anchor"></a>Test</h1>
<p>Let’s now answer to the original question by investigating the <strong>linear relationship between valence and autobiographical link</strong>. We can do this by running a mixed model with participants entered as random effects.</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lme4</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">parameters</span>)

<span class="co"># Convenient function</span>
<span class="no">print_model</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">data</span>){
  <span class="no">type_name</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/deparse.html">deparse</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/substitute.html">substitute</a></span>(<span class="no">data</span>))
  <span class="fu"><a href="https://rdrr.io/pkg/lme4/man/lmer.html">lmer</a></span>(<span class="no">Subjective_Valence</span> ~ <span class="no">Autobiographical_Link</span> + (<span class="fl">1</span><span class="kw">|</span><span class="no">Participant_ID</span>), <span class="kw">data</span><span class="kw">=</span><span class="no">data</span>) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/pkg/parameters/man/model_parameters.html">parameters</a></span>() <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">Parameter</span> <span class="kw">==</span> <span class="st">"Autobiographical_Link"</span>) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">Type</span> <span class="kw">=</span> <span class="no">type_name</span>,
           <span class="kw">Coefficient</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="no">Coefficient</span>, <span class="fl">3</span>),
           <span class="kw">p</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="no">p</span>, <span class="fl">3</span>)) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">Type</span>, <span class="no">Coefficient</span>, <span class="no">p</span>)
}

<span class="co"># Run the model on all datasets</span>
<span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span>(<span class="fu">print_model</span>(<span class="no">df</span>),
      <span class="fu">print_model</span>(<span class="no">Z_VariableWise</span>),
      <span class="fu">print_model</span>(<span class="no">Z_ParticipantWise</span>),
      <span class="fu">print_model</span>(<span class="no">Z_Full</span>))</pre></body></html></div>
<pre><code>Type              | Coefficient |     p
---------------------------------------
df                |        0.09 | 0.173
Z_VariableWise    |        0.07 | 0.173
Z_ParticipantWise |        0.08 | 0.080
Z_Full            |        0.08 | 0.080</code></pre>
<p>As we can see, <strong>variable-wise</strong> standardization only affects <strong>the coefficient</strong> (which is expected, as it changes the unit), but not the <strong>test statistics</strong> (the <em>p</em>-value, in this case). However, using <strong>participant-wise</strong> standardization <strong>does</strong> affect the coefficient <strong>and the <em>p</em>-value</strong>. No method is better or more justified, and its choice depends on the specific case, context, data and goal.</p>
</div>
<div id="conclusion" class="section level1">
<h1 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h1>
<ol style="list-style-type: decimal">
<li><strong>Standardization can be useful in <em>some</em> cases and should be justified</strong></li>
<li><strong>Variable and Participant-wise standardization methods produce “in appearance” similar data</strong></li>
<li><strong>Variable and Participant-wise standardization can lead to different results</strong></li>
<li><strong>The choice of the method can strongly influence the results and thus, should be explicitly stated</strong></li>
</ol>
<p>We showed here yet another way of <strong>sneakily tweaking the data</strong> that can change the results. To prevent its use for bad practices (e.g., <em>p</em>-hacking), we can only support the generalization of open-data, open-analysis and preregistration**</p>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/mattansb">Mattan S. Ben-Shachar</a>, <a href="https://dominiquemakowski.github.io/">Dominique Makowski</a>, <a href="https://github.com/strengejacke">Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
